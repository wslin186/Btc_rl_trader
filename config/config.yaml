# ================================================================
# ğŸ“  btc_rl_trader / config /config.yaml
# ================================================================

# ------------------------------------------------------------------
# 1ï¸âƒ£  æ•°æ®ä¸‹è½½
# ------------------------------------------------------------------
download:
  trading_type:  spot
  symbols:      ["BTCUSDT"]
  intervals:    ["1h"]
  start_date:    2017-08-01
  end_date:      2025-04-30
  skip_monthly:  0
  skip_daily:    1
  checksum:      0
  threads:       8
  frequency:     "@daily"       # å¯é€‰
  enable_cron:   false

# ------------------------------------------------------------------
# 2ï¸âƒ£  æ•°æ®é›†åŒºé—´ / è·¯å¾„
# ------------------------------------------------------------------
data:
  processed_path: data/processed/btc.parquet

  train_start:  2017-08-01
  train_end:    2023-12-31
  test_start:   2024-01-01
  test_end:     2025-04-30

  train_ratio:  null            # æ˜¾å¼åŒºé—´æ—¶ä¿æŒ null

# ------------------------------------------------------------------
# 3ï¸âƒ£  ç¯å¢ƒå‚æ•°
# ------------------------------------------------------------------
env:
  window_size: 50
  init_cash:   10000
  fee:         0.0004
  slippage:    0.0002
  reward_scale: 100        # â† æ–°å¢
  action_reward: 0.01      # â† æ–°å¢

# ------------------------------------------------------------------
# 4ï¸âƒ£  PPO åŸºç¡€è¶…å‚
# ------------------------------------------------------------------
ppo:
  policy:          MlpPolicy
  total_timesteps: 2_000_000
  n_steps:         512          # ä¼šè¢« training.n_steps è¦†ç›–
  batch_size:      512
  learning_rate:   0.0003
  gamma:           0.995
  gae_lambda:      0.97
  ent_coef:        0.005
  vf_coef:         0.5
  clip_range:      0.2
  max_grad_norm:   0.5

# ------------------------------------------------------------------
# 5ï¸âƒ£  å¹¶è¡Œè®­ç»ƒï¼ˆSubprocVecEnvï¼‰
# ------------------------------------------------------------------
training:
  n_envs:          8            # å¹¶è¡Œç¯å¢ƒæ•°
  n_steps:         512          # æ¯ env æ ·æœ¬æ•° => 2048/batch
  total_timesteps: 2_000_000

# ------------------------------------------------------------------
# 6ï¸âƒ£  æ¨¡å‹ä¸æ—¥å¿—è·¯å¾„
# ------------------------------------------------------------------
paths:
  model_dir:  models
  model_name: ppo_btc_latest.zip

tensorboard:
  enable:  true
  log_dir: logs/tb
  host:    127.0.0.1
  port:    6006
